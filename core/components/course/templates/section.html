<ion-view>
    <ion-nav-title>{{ title }}</ion-nav-title>
    <ion-content>

        <div class="card" ng-if="summary">
            <!-- Only displayed when 1 section per page. -->
            <div class="item item-text-wrap">
                <mm-format-text>{{ summary }}</mm-format-text>
            </div>
        </div>

        <div class="card" ng-repeat="section in sections">
            <!-- Title and summary are displayed when multiple sections per page. -->
            <div class="item item-divider" ng-if="sections.length > 1">
                {{ section.name }}
            </div>
            <div class="item item-text-wrap" ng-if="sections.length > 1 && section.summary">
                <mm-format-text>{{ section.summary }}</mm-format-text>
            </div>

            <!-- TODO Use delegates to handle how this should look, and what state to go to. -->
            <a class="item item-text-wrap" ng-repeat="module in section.modules">
                <img src="{{ module.modicon }}" alt="" role="presentation">
                {{ module.name }}
            </a>

            <!-- When there is nothing in the section. -->
            <div class="item item-text-wrap" ng-if="section.modules.length < 1">
                {{ 'mm.course.nocontentavailable' | translate }}
            </div>
        </div>
    </ion-content>
</ion-view>
